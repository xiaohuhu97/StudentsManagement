<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学生管理系统</title>
</head>
<body>

<button onclick="insertStudent()">新增学生数据</button>
<label>学生学号<input id="input_id" name="input_id" type="text" /></label>
<label>学生姓名<input id="input_name" name="input_name" type="text" /></label>
<label>学生电话<input id="input_phone" name="input_phone" type="text" /></label>
</br>

<button onclick="insertCourse()">新增课程数据</button>
<label>课程号<input id="input_course_id" name="input_course_id" type="text" /></label>
<label>课程名称<input id="input_course_name" name="input_course_name" type="text" /></label>
<label>老师名称<input id="input_teacher" name="input_teacher" type="text" /></label>
</br>

<button onclick="insertScore()">新增成绩数据</button>
<label>学生学号<input id="input_id1" name="input_id1" type="text" /></label>
<label>  课程号<input id="input_course_id1" name="input_course_id1" type="text" /></label>
<label>   成绩<input id="input_score" name="input_score" type="text" /></label>
</br>

<button onclick="selectAll()">显示学生数据</button>

</br>

<button onclick="selectStudent()">查询学生成绩</button>
<label>学生学号<input id="id" name="id" type="text" /></label>
<label>课程名称<input id="course_name" name="course_name" type="text" /></label>

</br>
<button onclick="selectTeacher()">查询老师成绩</button>
<label>老师名称<input id="teacher" name="teacher" type="text" /></label>

</p>
<textarea></textarea>


<script type="text/javascript" src="jquery-3.4.1.js" ></script>

<script type="text/javascript">
function selectAll(){
    $.ajax({
        type:"get",
        url:"http://localhost:8081/selectAll",
        contentType:"application/json;charset=utf-8",
        dataType:"json",
        success:function(data){
            document.querySelector('textarea').innerText=JSON.stringify(data);
        },
        error:function(data){
            //document.querySelector('textarea').innerText=JSON.stringify(data);
            alert("查询失败");
        }
    });
}
</script>

<script type="text/javascript">
    function selectStudent(){
        $.ajax({
            type:"get",
            url:"http://localhost:8081/selectStudent",
            data:{
                id:$(" #id ").val(),
                course_name:$(" #course_name ").val()
            },
            contentType:"application/json;charset=utf-8",
            dataType:"json",
            success:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
            },
            error:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
                alert("查询失败");
            }
        });
    }
</script>

<script type="text/javascript">
    function selectTeacher(){
        $.ajax({
            type:"get",
            url:"http://localhost:8081/selectTeacher",
            data:{
                teacher_name:$(" #teacher ").val()
            },
            contentType:"application/json;charset=utf-8",
            dataType:"json",
            success:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
            },
            error:function(data){
                alert("查询失败");
            }
        });
    }
</script>

<script type="text/javascript">
    function insertStudent(){
        $.ajax({
            type:"get",
            url:"http://localhost:8081/insertStudent",
            data:{
                id:$(" #input_id ").val(),
                name:$(" #input_name ").val(),
                phone:$(" #input_phone ").val()
            },
            contentType:"application/json;charset=utf-8",
            dataType:"json",
            success:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
            },
            error:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
                alert("插入失败");
            }
        });
    }
</script>

<script type="text/javascript">
    function insertCourse(){
        $.ajax({
            type:"get",
            url:"http://localhost:8081/insertCourse",
            data:{
                course_id:$(" #input_course_id ").val(),
                course_name:$(" #input_course_name ").val(),
                teacher_name:$(" #input_teacher ").val()
            },
            contentType:"application/json;charset=utf-8",
            dataType:"json",
            success:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
            },
            error:function(data){
                alert("插入失败");
            }
        });
    }
</script>

<script type="text/javascript">
    function insertScore(){
        $.ajax({
            type:"get",
            url:"http://localhost:8081/insertScore",
            data:{
                id:$(" #input_id1 ").val(),
                course_id:$(" #input_course_id1 ").val(),
                score:$(" #input_score ").val()
            },
            contentType:"application/json;charset=utf-8",
            dataType:"json",
            success:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
            },
            error:function(data){
                document.querySelector('textarea').innerText=JSON.stringify(data);
                alert("插入失败");
            }
        });
    }
</script>



</body>
</html>